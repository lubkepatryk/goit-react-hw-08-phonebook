"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[468],{9468:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});var r=n(2791),a=n(9434),c=n(4270),s="ContactList_button__7kL4l",u=n(184),o=function(t){var e=t.contacts,n=t.handleDelete;return(0,u.jsx)("ul",{children:e.map((function(t,e){return(0,u.jsxs)("li",{children:[t.name," ",t.number,(0,u.jsxs)("button",{className:s,type:"button",onClick:function(){return n(t.id)},children:[" ","Delete"," "]})]},e)}))})},i=n(9439),l="ContactForm_form__dhl+T",d="ContactForm_label__-cVXI",p="ContactForm_formButton__TN6Jq",h=n(3844),f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_"}),"")},m=function(){var t=(0,r.useState)(""),e=(0,i.Z)(t,2),n=e[0],c=e[1],s=(0,r.useState)(""),o=(0,i.Z)(s,2),m=o[0],v=o[1],x=(0,a.I0)(),b=f(),j=f();return(0,u.jsx)("div",{children:(0,u.jsxs)("form",{className:l,onSubmit:function(t){t.preventDefault(),x((0,h.uK)({nameText:n,numberText:m})),c(""),v("")},children:[(0,u.jsx)("label",{className:d,htmlFor:b,children:"Name"}),(0,u.jsx)("input",{id:b,onChange:function(t){var e=t.target.value;c(e)},value:n,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,u.jsxs)("label",{className:d,htmlFor:j,children:[" ","Number"," "]}),(0,u.jsx)("input",{id:j,onChange:function(t){var e=t.target.value;v(e)},value:m,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,u.jsx)("button",{className:p,children:"Add contact"})]})})},v={filter:"Filter_filter__vxThR",filterLabel:"Filter_filterLabel__+pnW-"},x=function(t){return t.filter},b=function(t){return t.contacts.isLoading},j=function(){var t=(0,a.I0)(),e=(0,a.v9)(x);return(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:v.filterLabel,children:"Find contacts by Name "}),(0,u.jsx)("input",{className:v.filterName,type:"text",name:"filter",placeholder:"Enter filter",value:e,onChange:function(e){t((0,h.Tv)(e.target.value))}})]})},_=n(5861),g=n(7757),C=n.n(g),N=n(6382),k=n(1243);k.Z.defaults.baseURL="https://connections-api.herokuapp.com";var w=(0,N.hg)("contacts/fetchAll",function(){var t=(0,_.Z)(C().mark((function t(e,n){var r;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.Z.get("/contacts");case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}());(0,N.hg)("contacts/addContact",function(){var t=(0,_.Z)(C().mark((function t(e,n){var r;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.Z.post("/contacts",e);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()),(0,N.hg)("contacts/deleteContact",function(){var t=(0,_.Z)(C().mark((function t(e,n){var r;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.Z.delete("/contacts/".concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}());function y(){var t=(0,a.I0)(),e=(0,a.v9)(b);return(0,r.useEffect)((function(){t(w())}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.q,{children:(0,u.jsx)("title",{children:"Your Contacts"})}),(0,u.jsx)(m,{}),(0,u.jsx)("div",{children:e&&"Request in progress..."}),(0,u.jsx)(j,{}),(0,u.jsx)(o,{})]})}}}]);
//# sourceMappingURL=468.038e3d25.chunk.js.map